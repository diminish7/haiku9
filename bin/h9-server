#!/usr/bin/env coffee --nodejs --harmony
options = require "commander"

{port, source, target} = options
  .version "1.0.0-alpha-01"
  .option "-p ,--port <num>", "Port to listen on [8080]"
  .option "-t ,--target <path>", "Directory to compile into [build]"
  .option "-s, --source <path>", "Directory to compile from [public]"
  .parse process.argv

source ?= "public"
target ?= "build"
port ?= "8080"

server = require "../src/server"
server {source, target, port}

, -> console.log "Listening on port #{port}"
